---
import BaseLayout from "../layouts/Base.astro";
import { withBase } from "../utils/url.js";

const hero = {
  title: "Halo, saya Yefta",
  subtitle: "Mahasiswa Informatika, web developer, dan sim racing enthusiast.",
  description:
    "Saya membangun pengalaman digital yang cepat dan simpel, sambil menghabiskan malam untuk mengejar personal best di Assetto Corsa.",
  ctaPrimary: { label: "Lihat Portofolio", href: withBase("/#projects") },
  ctaSecondary: { label: "Lap Time Board", href: withBase("/assetto-corsa") },
};

const timeline = [
  {
    year: "2025",
    title: "Mahasiswa Informatika",
    detail: "Sedang fokus pada pengembangan web modern, UI design system, dan prototyping data untuk sim racing.",
  },
  {
    year: "2024",
    title: "Freelance Frontend",
    detail: "Mengerjakan landing page ringan untuk komunitas lokal, memanfaatkan Astro dan Tailwind.",
  },
  {
    year: "2022",
    title: "Game & Tech Communities",
    detail: "Aktif di komunitas sim racing, berbagi setup dan analisis telemetri dasar.",
  },
];

const interests = [
  "Membangun workflow untuk mencatat lap time",
  "Interaksi micro (hover, focus, motion) yang tidak berlebihan",
  "Menerjemahkan data mentah ke visualisasi yang mudah dipahami",
  "Eksperimen tema terang/gelap dengan CSS variable",
];

const projects = [
  {
    name: "Assetto Corsa Lap Board",
    description: "Konversi personalbest.ini menjadi JSON lalu disajikan dalam tabel interaktif dengan filter track dan mobil.",
    stack: ["Astro", "React", "TailwindCSS"],
    links: [
      { label: "Demo", href: withBase("/assetto-corsa") },
      { label: "Repo", href: "https://github.com/yeftakun/my-site" },
    ],
  },
  {
    name: "Telemetry Notes",
    description: "Catatan visual untuk analisis replay Assetto Corsa, fokus pada sektor waktu dan kestabilan.",
    stack: ["Next.js", "MDX"],
    links: [{ label: "Draft", href: "https://github.com/yeftakun" }],
  },
  {
    name: "UI Pattern Library",
    description: "Kumpulan komponen ringan (card, badge, table) dengan dua tema dan dokumentasi short form.",
    stack: ["Storybook", "TailwindCSS"],
    links: [{ label: "Overview", href: "https://github.com/yeftakun" }],
  },
];

const gameTagStyles = {
  fav: "bg-[#E10600]/15 text-[#E10600]",
  sometimes: "bg-[#2A5BFF]/12 text-[#2A5BFF]",
  daily: "bg-[#1FA971]/15 text-[#1FA971]",
  chill: "bg-[#5A616B]/12 text-[#5A616B]",
};

const gamesList = [
  {
    title: "Assetto Corsa",
    mood: "Fav",
    moodKey: "fav",
    highlight: "Nordschleife PB hunting pakai GT3 & LMH tiap akhir pekan.",
    image: "https://upload.wikimedia.org/wikipedia/en/0/0f/Assetto_Corsa_cover.png",
  },
  {
    title: "Valorant",
    mood: "Sometimes",
    moodKey: "sometimes",
    highlight: "Stack kampus, role Controller, fokus callout taktis.",
    image: "https://upload.wikimedia.org/wikipedia/en/5/5f/Valorant_cover_art.jpg",
  },
  {
    title: "Beat Saber",
    mood: "Daily Login",
    moodKey: "daily",
    highlight: "Custom map buat warming-up + track favorit full combo.",
    image: "https://upload.wikimedia.org/wikipedia/en/e/e4/Beat_Saber_cover_art.jpg",
  },
  {
    title: "Stardew Valley",
    mood: "Mending Mancing",
    moodKey: "chill",
    highlight: "Relax setelah scrim: mancing & upgrade farm pelan-pelan.",
    image: "https://upload.wikimedia.org/wikipedia/en/1/18/Stardew_Valley_cover.jpg",
  },
];

const socials = [
  { label: "GitHub", href: "https://github.com/yeftakun" },
  { label: "LinkedIn", href: "https://www.linkedin.com" },
  { label: "Steam", href: "https://steamcommunity.com" },
  { label: "Email", href: "mailto:hey@yefta.dev" },
];
---
<BaseLayout title="Yefta Kun | Personal Website" description="Portofolio minimalis, proyek, games, dan kontak dalam satu halaman." image={withBase("/social.png")}>
  <section id="home" data-section class="section-panel space-y-12">
    <div class="flex flex-col items-center gap-10 text-center lg:flex-row lg:items-center lg:gap-12 lg:text-left">
      <div class="space-y-6 lg:flex-1">
        <span class="chip uppercase tracking-wider">Web dev / sim racing</span>
        <h1 class="text-4xl font-semibold leading-tight sm:text-5xl">{hero.title}</h1>
        <p class="text-lg text-muted">{hero.subtitle}</p>
        <p class="max-w-2xl text-base text-muted">{hero.description}</p>
        <div class="flex flex-wrap justify-center gap-3 lg:justify-start">
          <a class="btn btn-primary" href={hero.ctaPrimary.href}>{hero.ctaPrimary.label}</a>
          <a class="btn btn-ghost" href={hero.ctaSecondary.href}>{hero.ctaSecondary.label}</a>
        </div>
      </div>
      <div class="lg:flex-1">
        <img
          src={withBase("/images/shiroko.png")}
          alt="Shiroko placeholder"
          loading="lazy"
          class="mx-auto max-w-[220px] drop-shadow-xl lg:max-w-[260px]"
        />
      </div>
    </div>
  </section>

  <section id="about" data-section class="section-panel space-y-10">
    <div class="space-y-3">
      <h2 class="text-3xl font-semibold">Tentang Saya</h2>
      <p class="max-w-3xl text-muted">
        Saya suka merancang antarmuka bersih yang tidak mengganggu konten. Ketika tidak menulis kode, saya bereksperimen dengan setup mobil dan berburu personal best di berbagai track Assetto Corsa.
      </p>
    </div>
    <div class="grid gap-10 lg:grid-cols-[1fr_1.2fr]">
      <div class="card space-y-4">
        <h3 class="text-xl font-semibold">Nilai kerja</h3>
        <ul class="space-y-3 text-sm text-muted">
          <li>Ship cepat, iterasi sering, ukur hasil.</li>
          <li>Komunikasi jelas dengan dokumentasi singkat.</li>
          <li>Perhatikan aksesibilitas sejak awal, bukan add-on.</li>
        </ul>
      </div>
      <div class="space-y-8">
        <h3 class="text-xl font-semibold">Perjalanan singkat</h3>
        <ul class="relative space-y-6 border-l border-[var(--border)] pl-6">
          {timeline.map((item) => (
            <li class="relative">
              <div class="absolute -left-2 mt-1 h-3 w-3 rounded-full bg-[var(--primary)]"></div>
              <span class="text-xs uppercase tracking-wide text-muted">{item.year}</span>
              <h4 class="text-lg font-semibold">{item.title}</h4>
              <p class="text-sm text-muted">{item.detail}</p>
            </li>
          ))}
        </ul>
      </div>
    </div>
    <div class="card space-y-5">
      <h3 class="text-xl font-semibold">Hal yang saya nikmati</h3>
      <ul class="grid gap-3 md:grid-cols-2">
        {interests.map((item) => (
          <li class="rounded-xl border border-[var(--border)] bg-[var(--surface)] p-4 text-sm text-muted">{item}</li>
        ))}
      </ul>
    </div>
  </section>

  <section id="projects" data-section class="section-panel space-y-8">
    <div class="flex flex-col gap-3 md:flex-row md:items-end md:justify-between">
      <div>
        <h2 class="text-3xl font-semibold">Projects</h2>
        <p class="text-sm text-muted">Pilihan pekerjaan dan eksperimen yang sedang aktif.</p>
      </div>
      <a href={withBase("/assetto-corsa")} class="text-sm text-[var(--primary)] hover:text-[var(--primary-hover)]">
        Lihat Lap Time Board â†’
      </a>
    </div>
    <div class="grid gap-6 md:grid-cols-2">
      {projects.map((project) => (
        <article class="card space-y-4">
          <header class="space-y-2">
            <h3 class="text-xl font-semibold">{project.name}</h3>
            <p class="text-sm text-muted">{project.description}</p>
          </header>
          <div class="flex flex-wrap gap-2 text-xs">
            {project.stack.map((tech) => (
              <span class="chip">{tech}</span>
            ))}
          </div>
          <div class="flex flex-wrap gap-3">
            {project.links.map((link) => (
              <a href={link.href} class="btn btn-ghost text-sm">{link.label}</a>
            ))}
          </div>
        </article>
      ))}
    </div>
  </section>

  <section id="games" data-section class="section-panel space-y-8">
    <div class="space-y-3">
      <h2 class="text-3xl font-semibold">Games</h2>
      <p class="max-w-3xl text-muted">
        Catatan singkat jam main membantu saya memahami pola latihan dan kapan harus rehat. Saat ini fokus ke empat game ini.
      </p>
    </div>
    <div class="grid gap-6 md:grid-cols-2">
      {gamesList.map((game) => (
        <article class="rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-5 shadow-sm shadow-black/5 transition hover:border-[var(--primary)]">
          <div class="flex items-center gap-4">
            <div class="space-y-3">
              <span class={`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${gameTagStyles[game.moodKey]}`}>
                {game.mood}
              </span>
              <div class="space-y-2">
                <h3 class="text-lg font-semibold">{game.title}</h3>
                <p class="text-sm text-muted">{game.highlight}</p>
              </div>
            </div>
            <div class="relative h-24 w-24 shrink-0 self-center overflow-hidden rounded-xl border border-[var(--border)] bg-black/5">
              <img src={game.image} alt={`Cover ${game.title}`} loading="lazy" class="h-full w-full object-cover" />
            </div>
          </div>
        </article>
      ))}
    </div>
  </section>

  <section id="contact" data-section class="section-panel space-y-8">
    <div class="space-y-3">
      <h2 class="text-3xl font-semibold">Contact</h2>
      <p class="max-w-2xl text-muted">
        Ceritakan projectmu atau kirimkan replay favoritmu. Saya akan membalas dalam 1-2 hari kerja.
      </p>
    </div>
    <div class="grid gap-8 items-start lg:grid-cols-[minmax(0,1.2fr)_minmax(0,0.8fr)]">
      <form class="card space-y-5" method="post" action="https://formsubmit.co/placeholder@example.com">
        <div class="space-y-2">
          <label class="text-sm font-medium" for="name">Nama</label>
          <input id="name" name="name" type="text" required class="w-full rounded-xl border border-[var(--border)] bg-[var(--surface)] px-4 py-3 text-sm text-[var(--text)] focus:border-[var(--primary)]" placeholder="Nama lengkap" />
        </div>
        <div class="space-y-2">
          <label class="text-sm font-medium" for="email">Email</label>
          <input id="email" name="email" type="email" required class="w-full rounded-xl border border-[var(--border)] bg-[var(--surface)] px-4 py-3 text-sm text-[var(--text)] focus:border-[var(--primary)]" placeholder="nama@email.com" />
        </div>
        <div class="space-y-2">
          <label class="text-sm font-medium" for="message">Pesan</label>
          <textarea id="message" name="message" rows="5" required class="w-full rounded-xl border border-[var(--border)] bg-[var(--surface)] px-4 py-3 text-sm text-[var(--text)] focus:border-[var(--primary)]" placeholder="Tulis detail project, jadwal, atau topik yang ingin dibahas"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Kirim pesan</button>
        <p class="text-xs text-muted">Form ini menggunakan FormSubmit (ganti endpoint sesuai provider yang Anda gunakan).</p>
      </form>

      <aside class="card flex h-full flex-col justify-between gap-6">
        <div class="space-y-4">
          <h3 class="text-xl font-semibold">Lebih cepat via</h3>
          <ul class="space-y-3 text-sm text-muted">
            {socials.map((item) => (
              <li>
                <a class="text-[var(--primary)] hover:text-[var(--primary-hover)]" href={item.href} target="_blank" rel="noopener noreferrer">
                  {item.label}
                </a>
              </li>
            ))}
          </ul>
        </div>
        <div class="rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-4 text-sm text-muted">
          <p>Prefer diskusi cepat? Kirim DM di Discord: <strong>yefta#1997</strong>.</p>
        </div>
      </aside>
    </div>
  </section>
</BaseLayout>
