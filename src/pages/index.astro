---
import BaseLayout from "../layouts/Base.astro";
import { withBase } from "../utils/url.js";

const hero = {
  title: "Halo, saya Yefta",
  subtitle: "Mahasiswa Informatika, web developer, dan sim racing enthusiast.",
  description:
    "Saya membangun pengalaman digital yang cepat dan simpel, sambil menghabiskan malam untuk mengejar personal best di Assetto Corsa.",
  ctaPrimary: { label: "Lihat Portofolio", href: withBase("/#projects") },
  ctaSecondary: { label: "Lap Time Board", href: withBase("/assetto-corsa") },
};

const timeline = [
  {
    year: "2025",
    title: "Internship at PLN UID Suluttenggo",
    detail: "Magang di divisi STI",
  },
  {
    year: "2024",
    title: "Belajar Web Dev",
    detail: "PHP Mysql, Lanjut ke Node.js",
  },
  {
    year: "2022",
    title: "Mahasiswa Informatika",
    detail: "Lagi mikir judul skripsi",
  },
];

const interests = [
  "Membangun workflow untuk mencatat lap time",
  "Interaksi micro (hover, focus, motion) yang tidak berlebihan",
  "Menerjemahkan data mentah ke visualisasi yang mudah dipahami",
  "Eksperimen tema terang/gelap dengan CSS variable",
];

const projects = [
  {
    name: "Hiki Adventure",
    badge: "Tugas Kuliah",
    description: "Tugas akhir proyek Mata Kuliah Pengembangan Game 2023",
    stack: ["Game", "2D", "Unity"],
    links: [
      { label: "Demo", href: "https://youtu.be/XkVjXmlQ2QE?si=Nk1JKIZE-ujc9J1d" },
      { label: "Repo", href: "https://github.com/yeftakun/my-site" },
    ],
  },
  {
    name: "Telemetry Notes",
    description: "Catatan visual untuk analisis replay Assetto Corsa, fokus pada sektor waktu dan kestabilan.",
    stack: ["Next.js", "MDX"],
    links: [{ label: "Draft", href: "https://github.com/yeftakun" }],
  },
  {
    name: "UI Pattern Library",
    description: "Kumpulan komponen ringan (card, badge, table) dengan dua tema dan dokumentasi short form.",
    stack: ["Storybook", "TailwindCSS"],
    links: [{ label: "Overview", href: "https://github.com/yeftakun" }],
  },
];

const gameTagStyles = {
  fav: "bg-[#E10600]/15 text-[#E10600]",
  sometimes: "bg-[#2A5BFF]/12 text-[#2A5BFF]",
  daily: "bg-[#1FA971]/15 text-[#1FA971]",
  chill: "bg-[#5A616B]/12 text-[#5A616B]",
} as const;

const gamesList = [
  {
    title: "Assetto Corsa",
    mood: "Fav",
    moodKey: "fav",
    highlight: "Belajar track baru, setup mobil dan hotlap pakai gamepad.",
    image: "https://e.snmc.io/lk/f/x/2f5dbf23974d6391c11c7b5b2fce6bb0/9667231",
  },
  {
    title: "Arena Breakout",
    mood: "Daily Login",
    moodKey: "daily",
    highlight: "Item number one - Storage value preferred.",
    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRmgV6WDbZBC2MXPcdAzCAilUVgiX_Q_cy7xA&s",
  },
  {
    title: "Project Sekai",
    mood: "Sometimes",
    moodKey: "sometimes",
    highlight: "Males cari FC yang penting kelarin lagunya (stuck di lvl 30)",
    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTzVlhCGWpp1_sbZovRM4m7N1l4ptGpzg0R6w&s",
  },
  {
    title: "Clash of Clans",
    mood: "Pensi",
    moodKey: "chill",
    highlight: "Tamat di TH 13, sekarang main lagi di TH 4 tapi males lanjut:v",
    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQduT38j4D5bFfymmWu72CA5LSM5EnfeyTB-PDAndlU1RMYl08M1dwXMewz1QDSLK12fHo&usqp=CAU",
  },
  {
    title: "Blue Archive",
    mood: "Pensi",
    moodKey: "chill",
    highlight: "Shiroko chan~",
    image: "https://kaleoz-media.seagmcdn.com/kaleoz-store/202309/oss-c7941a64b45261c2082448fef2b16653.png?x-oss-process=image/format,webp",
  },
  {
    title: "Osu!",
    mood: "Sometimes",
    moodKey: "sometimes",
    highlight: "Cuma buat iseng aja, ga serius ngejar rank.",
    image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ4_AwDqX2C1Yez1ZI-lK9N4hyvYyMJmSaiAA&s",
  }
];

const connectLinks = [
  {
    label: "Facebook",
    href: "https://www.facebook.com/yeftakun",
    icon: "bxl-facebook-circle",
    badge: "border-[#1877F2]/30 bg-[#1877F2]/10 text-[#1877F2] hover:bg-[#1877F2]/15",
  },
  {
    label: "Instagram",
    href: "https://www.instagram.com/yeftakun",
    icon: "bxl-instagram",
    badge: "border-[#DD2A7B]/30 bg-[#DD2A7B]/10 text-[#DD2A7B] hover:bg-[#DD2A7B]/15",
  },
  {
    label: "YouTube",
    href: "https://www.youtube.com/@yeftakun",
    icon: "bxl-youtube",
    badge: "border-[#FF0000]/30 bg-[#FF0000]/10 text-[#FF0000] hover:bg-[#FF0000]/15",
  },
  {
    label: "LinkedIn",
    href: "https://www.linkedin.com/in/yeftakun",
    icon: "bxl-linkedin",
    badge: "border-[#0A66C2]/30 bg-[#0A66C2]/10 text-[#0A66C2] hover:bg-[#0A66C2]/15",
  },
  {
    label: "Steam",
    href: "https://steamcommunity.com/id/yeftakun",
    icon: "bxl-steam",
    badge: "border-[#66C0F4]/30 bg-[#66C0F4]/10 text-[#66C0F4] hover:bg-[#66C0F4]/15",
  },
];

const socials = [
  { label: "GitHub", href: "https://github.com/yeftakun" },
  { label: "LinkedIn", href: "https://www.linkedin.com" },
  { label: "Steam", href: "https://steamcommunity.com" },
  { label: "Email", href: "mailto:hey@yefta.dev" },
];
---
<BaseLayout title="Yefta Kun | Personal Website" description="Portofolio minimalis, proyek, games, dan kontak dalam satu halaman." image={withBase("/social.png")}>
  <section id="home" data-section class="section-panel space-y-16">
    <div class="flex flex-col items-center gap-10 text-center lg:flex-row lg:items-center lg:gap-12 lg:text-left">
      <div class="space-y-6 lg:flex-1">
        <span class="chip uppercase tracking-wider">Web dev / sim racing</span>
        <h1 class="text-4xl font-semibold leading-tight sm:text-5xl">{hero.title}</h1>
        <p class="text-lg text-muted">{hero.subtitle}</p>
        <p class="max-w-2xl text-base text-muted">{hero.description}</p>
        <div class="flex flex-wrap justify-center gap-3 lg:justify-start">
          <a class="btn btn-primary" href={hero.ctaPrimary.href}>{hero.ctaPrimary.label}</a>
          <a class="btn btn-ghost" href={hero.ctaSecondary.href}>{hero.ctaSecondary.label}</a>
        </div>
      </div>
      <div class="lg:flex-1">
        <img
          src={withBase("/images/shiroko.png")}
          alt="Shiroko placeholder"
          loading="lazy"
          class="mx-auto max-w-[220px] drop-shadow-xl lg:max-w-[260px]"
        />
      </div>
    </div>
  </section>

  <section id="about" data-section class="section-panel space-y-16">
    <div class="space-y-3">
      <h2 class="text-3xl font-semibold">Tentang Saya</h2>
      <p class="max-w-3xl text-muted">
        Saya suka merancang antarmuka bersih yang tidak mengganggu konten. Ketika tidak menulis kode, saya bereksperimen dengan setup mobil dan berburu personal best di berbagai track Assetto Corsa.
      </p>
    </div>
    <div class="grid gap-10 lg:grid-cols-[1fr_1.2fr]">
      <div class="card space-y-4">
        <h3 class="text-xl font-semibold">Nilai kerja</h3>
        <ul class="space-y-3 text-sm text-muted">
          <li>Ship cepat, iterasi sering, ukur hasil.</li>
          <li>Komunikasi jelas dengan dokumentasi singkat.</li>
          <li>Perhatikan aksesibilitas sejak awal, bukan add-on.</li>
        </ul>
      </div>
      <div class="space-y-8">
        <h3 class="text-xl font-semibold">Perjalanan singkat</h3>
        <ul class="relative space-y-6 border-l border-[var(--border)] pl-6">
          {timeline.map((item) => (
            <li class="relative">
              <div class="absolute -left-2 mt-1 h-3 w-3 rounded-full bg-[var(--primary)]"></div>
              <span class="text-xs uppercase tracking-wide text-muted">{item.year}</span>
              <h4 class="text-lg font-semibold">{item.title}</h4>
              <p class="text-sm text-muted">{item.detail}</p>
            </li>
          ))}
        </ul>
      </div>
    </div>
    <div class="card space-y-5">
      <h3 class="text-xl font-semibold">Hal yang saya nikmati</h3>
      <ul class="grid gap-3 md:grid-cols-2">
        {interests.map((item) => (
          <li class="rounded-xl border border-[var(--border)] bg-[var(--surface)] p-4 text-sm text-muted">{item}</li>
        ))}
      </ul>
    </div>
  </section>

  <section id="projects" data-section class="section-panel space-y-12">
    <div class="flex flex-col gap-3 md:flex-row md:items-end md:justify-between">
      <div>
        <h2 class="text-3xl font-semibold">Projects</h2>
        <p class="text-sm text-muted">Pilihan pekerjaan dan eksperimen yang sedang aktif.</p>
      </div>
      <a href={withBase("/assetto-corsa")} class="text-sm text-[var(--primary)] hover:text-[var(--primary-hover)]">
        Lihat Lap Time Board →
      </a>
    </div>
    <div class="grid gap-6 md:grid-cols-2">
      {projects.map((project) => (
        <article class="card flex h-full flex-col space-y-4">
          <header class="space-y-2">
            <div class="flex items-center gap-3">
              <h3 class="text-xl font-semibold">{project.name}</h3>
              {project.badge && (
                <span class="chip bg-[var(--primary)]/12 text-[var(--primary)] text-xs font-medium uppercase tracking-wide">{project.badge}</span>
              )}
            </div>
            <p class="text-sm text-muted">{project.description}</p>
          </header>
          <div class="flex flex-wrap gap-2 text-xs">
            {project.stack.map((tech) => (
              <span class="chip">{tech}</span>
            ))}
          </div>
          <div class="mt-auto flex flex-wrap gap-3">
            {project.links.map((link) => (
              <a href={link.href} class="btn btn-ghost text-sm">{link.label}</a>
            ))}
          </div>
        </article>
      ))}
    </div>
  </section>

  <section id="games" data-section class="section-panel space-y-12">
    <div class="space-y-3">
      <h2 class="text-3xl font-semibold">Games</h2>
      <p class="max-w-3xl text-muted">
        Catatan singkat jam main membantu saya memahami pola latihan dan kapan harus rehat. Saat ini fokus ke empat game ini.
      </p>
    </div>
    <div class="grid gap-6 md:grid-cols-2">
      {gamesList.map((game) => (
        <article class="rounded-2xl border border-[var(--border)] bg-[var(--surface)] p-5 shadow-sm shadow-black/5 transition hover:border-[var(--primary)]">
          <div class="flex items-center gap-4">
            <div class="space-y-3 flex-1">
              <span class={`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${gameTagStyles[game.moodKey as keyof typeof gameTagStyles]}`}>
                {game.mood}
              </span>
              <div class="space-y-2">
                <h3 class="text-lg font-semibold">{game.title}</h3>
                <p class="text-sm text-muted">{game.highlight}</p>
                {game.title === "Assetto Corsa" && (
                  <a 
                    href={withBase("/assetto-corsa")} 
                    class="inline-flex items-center gap-2 text-xs text-[var(--primary)] hover:text-[var(--primary-hover)] font-medium mt-2"
                  >
                    <i class="bx bx-racing text-sm" aria-hidden="true"></i>
                    Lihat Lap Times →
                  </a>
                )}
              </div>
            </div>
            <div class="relative h-24 w-24 shrink-0 self-center ml-auto overflow-hidden rounded-xl border border-[var(--border)] bg-black/5">
              <img src={game.image} alt={`Cover ${game.title}`} loading="lazy" class="h-full w-full object-cover" />
            </div>
          </div>
        </article>
      ))}
    </div>
  </section>

  <section id="contact" data-section class="section-panel space-y-12">
    <div class="space-y-3">
      <h2 class="text-3xl font-semibold">Contact</h2>
      <p class="max-w-2xl text-muted">
        Ceritakan projectmu atau kirimkan replay favoritmu. Saya akan membalas dalam 1-2 hari kerja.
      </p>
    </div>
    <div class="w-full">
      <form class="card space-y-5 w-full" method="post" action="https://formsubmit.co/placeholder@example.com">
        <div class="space-y-2">
          <label class="text-sm font-medium" for="name">Nama</label>
          <input id="name" name="name" type="text" required class="w-full rounded-xl border border-[var(--border)] bg-[var(--surface)] px-4 py-3 text-sm text-[var(--text)] focus:border-[var(--primary)]" placeholder="Nama lengkap" />
        </div>
        <div class="space-y-2">
          <label class="text-sm font-medium" for="email">Email</label>
          <input id="email" name="email" type="email" required class="w-full rounded-xl border border-[var(--border)] bg-[var(--surface)] px-4 py-3 text-sm text-[var(--text)] focus:border-[var(--primary)]" placeholder="nama@email.com" />
        </div>
        <div class="space-y-2">
          <label class="text-sm font-medium" for="message">Pesan</label>
          <textarea id="message" name="message" rows="5" required class="w-full rounded-xl border border-[var(--border)] bg-[var(--surface)] px-4 py-3 text-sm text-[var(--text)] focus:border-[var(--primary)]" placeholder="Tulis detail project, jadwal, atau topik yang ingin dibahas"></textarea>
        </div>
        <button type="submit" class="btn btn-primary">Kirim pesan</button>
        <p class="text-xs text-muted">Form ini menggunakan FormSubmit (ganti endpoint sesuai provider yang Anda gunakan).</p>
      </form>
    </div>
  </section>

  <section id="connect" data-section class="section-panel space-y-12">
    <div class="grid gap-8 items-center lg:grid-cols-[minmax(0,0.55fr)_minmax(0,0.45fr)]">
      <div class="space-y-6">
        <div class="space-y-3">
          <h2 class="text-3xl font-semibold">Connect with me</h2>
          <p class="text-sm text-muted">Mau diskusi proyek, main bareng, atau sekadar say hi? Temukan saya di platform ini.</p>
        </div>
        <div class="flex flex-wrap gap-3">
          {connectLinks.map((link) => (
            <a
              href={link.href}
              class={`inline-flex items-center gap-3 rounded-full border px-4 py-2 text-sm font-medium shadow-sm transition hover:-translate-y-0.5 hover:shadow-lg hover:border-current ${link.badge}`}
              target="_blank"
              rel="noopener noreferrer"
            >
              <span class="flex h-8 w-8 items-center justify-center rounded-full bg-white/90 text-current">
                <i class={`bx ${link.icon} text-lg`} aria-hidden="true"></i>
              </span>
              {link.label}
            </a>
          ))}
        </div>
      </div>
      <div class="relative overflow-hidden">
        <img
          src="public/images/shiroko-dance.gif"
          alt="Shiroko dancing"
          class="h-full w-full object-cover"
          loading="lazy"
        />
      </div>
    </div>
  </section>
</BaseLayout>

